doctype html
html
  head
    title User Page
    link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css")
    script(src="https://code.jquery.com/jquery-3.5.1.slim.min.js")
    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js")
    script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js")
  body
    // NavBar
    nav.navbar.navbar-expand-lg.navbar-light.bg-light
      a.navbar-brand(href="#") MyApp
      button.navbar-toggler(type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation")
        span.navbar-toggler-icon
      .collapse.navbar-collapse#navbarNav
        ul.navbar-nav.ml-auto
          li.nav-item
            span.navbar-text Logged in: #{loggedUser}
            img(src=pictureUrl height="23" width="23" class="ml-2")
          li.nav-item
            a.nav-link(href="/glogin/logout") Logout

    .container
      h1.mt-5 User Information

      // Table
      table.table.table-striped.mt-3
        thead
          tr
            th ID
            th Name
            th Joined
            th Last visited 
        tbody
          each user in users
            tr
              td= user.id
              td= user.name
              td= user.joined
              td= user.lastvisited

    // Modals
    if success
      .modal.fade#successModal(tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true")
        .modal-dialog(role="document")
          .modal-content
            .modal-header
              h5.modal-title#successModalLabel Success
              button.close(type="button" data-dismiss="modal" aria-label="Close")
                span(aria-hidden="true") &times;
            .modal-body
              p Connection to the database was successful!
            .modal-footer
              button.btn.btn-secondary(type="button" data-dismiss="modal") Close

    if error
      .modal.fade#errorModal(tabindex="-1" role="dialog" aria-labelledby="errorModalLabel" aria-hidden="true")
        .modal-dialog(role="document")
          .modal-content
            .modal-header
              h5.modal-title#errorModalLabel Error
              button.close(type="button" data-dismiss="modal" aria-label="Close")
                span(aria-hidden="true") &times;
            .modal-body
              p There was an error connecting to the database.
            .modal-footer
              button.btn.btn-secondary(type="button" data-dismiss="modal") Close

    // JavaScript to trigger modals
    script.
      $(document).ready(function(){
        $('#successModal').modal('show');
        $('#errorModal').modal('show');
      });
